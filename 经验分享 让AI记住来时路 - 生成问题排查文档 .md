# [经验分享] 让AI记住来时路 - 生成问题排查文档

【问题描述】我们尝遇到一种情况：就是通过多次迭代终于让AI解决了一个问题。结果不久之后在执行其他问题修改的时候，前面改好的问题再次出现，此时我们仍旧不清楚上一次是如何改好的，只能再次按照以前的思路一次一次的重新尝试。



【原因分析】由于我们自己不会修改代码，只能完全依靠AI来修改。所以AI的修改过程很多时候对我们来说就像盲盒一样。我们只了解自己的提的需求和最终修改后的结果，至于中间的修改过程，往往我们是看不明白的。



【解决办法】当一个问题好不容易解决后，主动要求AI生成一个问题排查文件，来记录问题的原因和解决的过程。这样当下次再发生相同问题时，可以直接引用这个文件，让AI按照之前记录的方法来解决，这样准确而高效。



下面是一个例子: 我在开发一个AI单词翻译工具的时候，希望AI返回的内容能够以"流"的方式在UI上逐步返回，并且返回的过程中会自动滚动页面以确保"流"式内容能一直在可视区域内显示，不会被其他元素遮挡。 AI很成功的做出了我想要的效果，但是美中不足的就是，最终停止的位置稍微和屏幕底部挨的太近，我希望它能再向上移动20px，保持一定的间距，这样效果会更好。 看上去是一个很简单的需求，结果AI经历了四五轮的尝试才最终实现。 于是，我让它生成一个问题排查文档，以备后续借鉴。



**提示词: "很好。问题解决了。请帮我生成一个问题排除的文档，记录这次问题的原因和解决的办法以供将来遇到类似问题的时候参考。 后续如果有典型问题解决了，也会用这个文档记录下来。"**



这是它生成的排查文档: TroubleShooting.md



\# 问题排查记录



\## 1. ScrollView 内容滚动位置问题



\### 问题描述

在翻译页面中，内容滚动到底部时会紧贴着底部 tabs，没有合适的间距，影响视觉体验。



\### 问题分析

1. **初始尝试**：

   \- 添加固定高度的底部空白区域 (Color.clear)

   \- 使用 .padding(.bottom, 20)

   这些方法都没有效果，内容仍然紧贴 tabs。



2. **原因**：

   \- 使用 `.bottom` 锚点会强制内容对齐到视图底部

   \- 额外的空白区域被滚动锚点的对齐行为覆盖

   \- 没有考虑到 ScrollView 的整体布局特性



3. **关键发现**：

   \- AI 评估页面使用 `.center` 锚点效果更好

   \- 底部 padding 需要应用在正确的视图层级上



\### 解决方案

1. **修改滚动锚点**：

   \```swift

   proxy.scrollTo("componentID", anchor: .center)  *// 替代 .bottom*

   \```



2. **调整 padding 位置**：

   \```swift

   VStack {

​       *// 内容...*

   }

   .padding(.bottom, tabTotalHeight)  *// 应用在 VStack 而不是单个组件上*

   \```



3. **移除多余的空白区域**：

   \- 删除额外的 Color.clear 视图

   \- 依赖 .center 锚点自然形成的空间



\### 经验总结

1. 滚动视图的布局问题要从整体架构考虑
2. 锚点选择会影响整个滚动行为
3. padding 的应用位置很重要，要在正确的视图层级上添加
4. 有时候简单的解决方案（如 .center）比复杂的方案更有效



\### 验证方法

1. 在不同尺寸的设备上测试滚动效果
2. 确认内容不被 tabs 遮挡
3. 验证视觉间距的一致性



\### 相关文件

\- lazyEnglish/Views/TranslationView.swift

\- lazyEnglish/Views/WordSentenceTestView.swift 